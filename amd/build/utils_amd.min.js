define(["jquery","core/log","filter_poodll/uploader"],function(a,b,c){"use strict";return b.debug("Filter PoodLL: utils initialising"),{timeouthandles:[],WhiteboardUploadHandler:function(d,e,f){b.debug("gotach");var g=a("#"+d+"_btn_upload_whiteboard")[0];g.disabled=!0,b.debug("gotach 2"),clearTimeout(this.timeouthandles[d]),b.debug("gotach 3");var h=this.getCvs(d,e,f);this.pokeVectorData(d,e,f),c.uploadFile(h.toDataURL(),"image")},getCvs:function(a,c,d){if(b.debug("heere"),0==a.indexOf("drawingboard_")){var e=c.canvas;b.debug("heere")}else{b.debug("now heere");var e=c.canvasForExport()}return e},pokeVectorData:function(b,c,d){var e="";e=0==b.indexOf("drawingboard_")?JSON.stringify(c.history,null,2):JSON.stringify(c.getSnapshot()),a("#"+d.vectorcontrol).val(e)}}});