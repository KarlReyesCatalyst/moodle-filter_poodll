{"name":"QR Text Reader","key":"qrtextreader","version":"1.0.0","instructions":"Reads text encoded in QR codes aloud\n","showatto":"1","showplayers":"0","requirecss":"","requirejs":"/filter/poodll/amd/src/poodll_qrscanner.js","shim":"","defaults":"width=320,height=240","amd":"1","body":"<div style=\"width: @@width@@px\"><button type=\"button\" id=\"@@AUTOID@@_button\" style=\"margin: auto;\"><i class=\"fa fa-qrcode\"></i></button>\n</div>\n<video id=\"@@AUTOID@@\" width=\"@@width@@px\" height=\"@@height@@px\" class=\"hide\" playsinline></video>\n<audio id=\"@@AUTOID@@_player\" src=\"\"></audio>\n</div>","bodyend":"","script":"var qrs= requiredjs_qrtextreader;\nvar poodllfilelib = M.cfg.wwwroot + '/filter/poodll/poodllfilelib.php?datatype=speaktext&paramone=';\nvar thecam=$('#' + @@AUTOID@@);\nvar thebutton=$('#' + @@AUTOID@@ + '_button');\nvar theplayer=$('#' + @@AUTOID@@ + '_player');\n\nthebutton.click(function(){\n var pp = theplayer[0].play();\nif (pp !== undefined) {\n  pp.then(function() {\n    console.log('playing');\n  }).catch(function(error) {\n     console.log('error');\n  });\n}\n  qrs.startWebCam('' + @@AUTOID@@);\n  qrs.setCallback(function(data){\n     console.log(data);\n     var src = poodllfilelib+encodeURI(data);\n     theplayer.attr('src',src);\n     var pp = theplayer[0].play();\n     if (pp !== undefined) {\n        pp.then(function() {\n        console.log('playing');\n      }).catch(function(error) {\n         console.log('error');\n      });\n}\n     qrs.startScan('' + @@AUTOID@@);\n});\n\n  qrs.startScan('' + @@AUTOID@@);\n  thecam.show();\n});\n\n ","style":"","dataset":"","datasetvars":"","alternate":"","alternateend":""}